
###bashとperlで  
###文字列処理速度比較

島元 貴広

---

###背景

kさんから非公式課題を頂きました。

---

###課題内容

"a i u e o"(順不同)から構成される1万行の文字ファイルを"a i u e o"に並べ替えて別ファイルへ出力

+++?code=hmoji2.txt

1万行文字列ファイル

+++

###条件

- 3文字目が"a"ならば、その文字列は削除
- 行中に重複する文字があった場合、処理を停止
- "a"、"i"、"u"、"e"、"o"のそれぞれで始まる行の行数を最終行に出力
- 開始時間と終了時間を出力
- 500行ごとに処理時間を出力

+++?code=resut.log

処理結果

---

まずはbash


+++?code=1.sh


+++

versin 2

+++?code=2.sh


+++

kさんの場合

+++?code=konsan.sh

---

続いてperl

+++?code=3.pl

---

###速度比較

bash：  
bash_v2：  
bash_k：  
perl：
















+++

###速度比較(計測済み)

bash：3m37.908  
bash_v2：3m0.517  
bash_k：2m35.883  
perl：0m0.385

+++

###速度比較(計測済み)

bash：3m37.908  
bash_v2：3m0.517  
bash_k：2m35.883  
perl：0m0.385  
oneliner：0m0.168

---

待てよ

+++?code=4_oneliner

+++?code=4_1.sh

---

###まとめ

bashは文字列処理が苦手、、、  
awkやsedの手を借りないと  
  
perlは文字列処理が得意  
今回使ってないけど、正規表現強い  
  
__ワンライナーかっこいい__

---


